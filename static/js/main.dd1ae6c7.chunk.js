(this["webpackJsonpra-hw-10.2-filter-with-toolkit"]=this["webpackJsonpra-hw-10.2-filter-with-toolkit"]||[]).push([[0],{14:function(e,n,t){},22:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),i=t(4),a=t.n(i),o=(t(14),t(7),t(2)),l=t(9),d=t(3),s=Object(d.b)({name:"list",initialState:[{id:"76OOH7xQPaqkVY6WJhpJ5",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0441\u0442\u0435\u043a\u043b\u0430",price:"21000"},{id:"Vmii-9M7fj9C6LpjSx1Eh",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0434\u0438\u0441\u043f\u043b\u0435\u044f",price:"25000"},{id:"WJ0HT1M9kA-IeAcSq6Quu",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0430\u043a\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430",price:"4000"},{id:"G5RdV1pOqHALXLT8hY1Oa",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0430",price:"2500"}],reducers:{addService:function(e,n){var t=n.payload,r=t.name,c=t.price;e.push({id:Object(l.a)(),name:r,price:c})},addServiceChanges:function(e,n){var t=n.payload,r=t.index,c=t.name,i=t.price;e[r]={id:e[r].id,name:c,price:i}},removeService:function(e,n){var t=n.payload.id,r=e.findIndex((function(e){return e.id===t}));e.splice(r,1)}}}),u=s.actions,j=u.addService,m=u.addServiceChanges,b=u.removeService,h=s.reducer,p={name:"",price:"",editingMode:{state:!1,index:""}},f=Object(d.b)({name:"form",initialState:p,reducers:{changeServiceField:function(e,n){var t=n.payload,r=t.name,c=t.value;e[r]=c},editService:function(e,n){return n.payload},endServiceEditing:function(e){return p}}}),v=f.actions,O=v.changeServiceField,x=v.editService,S=v.endServiceEditing,g=f.reducer,y=t(0);function F(){var e=Object(o.c)((function(e){return e.form})),n=Object(o.b)();function t(e){var t=e.target,r=t.name,c=t.value;n(O({name:r,value:c}))}return Object(y.jsxs)("form",{className:"Form",onSubmit:function(t){t.preventDefault();var r=e.name,c=e.price;if(e.editingMode.state){var i=e.editingMode.index;n(m({index:i,name:r,price:c})),n(S())}else n(j({name:r,price:c}))},onReset:function(e){e.preventDefault(),n(S())},children:[Object(y.jsxs)("div",{className:"Form-control",children:[Object(y.jsx)("label",{htmlFor:"name",children:"\u0423\u0441\u043b\u0443\u0433\u0430"}),Object(y.jsx)("input",{className:"Form-control__name",type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:t,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0417\u0430\u043c\u0435\u043d\u0430...",autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"Form-control",children:[Object(y.jsx)("label",{htmlFor:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c (\u0440\u0443\u0431.)"}),Object(y.jsx)("input",{className:"Form-control__price",type:"number",id:"price",name:"price",min:"1",max:"999999",required:!0,value:e.price,onChange:t})]}),Object(y.jsx)("input",{className:"Form-control__button-save",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),e.editingMode.state&&Object(y.jsx)("input",{className:"Form-control__button-reset",type:"reset",value:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})}t(22);var C=Object(d.b)({name:"search",initialState:{query:""},reducers:{changeSearchField:function(e,n){var t=n.payload,r=t.name,c=t.value;e[r]=c}}}),k=C.actions.changeSearchField,N=C.reducer;function _(){var e=Object(o.c)((function(e){return e.search})),n=Object(o.b)();return Object(y.jsx)("form",{className:"Form",children:Object(y.jsxs)("div",{className:"Form-control",children:[Object(y.jsx)("label",{htmlFor:"query",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(y.jsx)("input",{className:"Form-control__name",type:"text",id:"query",name:"query",value:e.query,onChange:function(e){var t=e.target,r=t.name,c=t.value;n(k({name:r,value:c}))},placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",autoComplete:"off"})]})})}t(23),t(24);function q(e){var n=e.id,t=e.name,r=e.price,c=e.onDeleteClick,i=e.onEditClick;return Object(y.jsxs)("tr",{className:"TableRow",id:n,children:[Object(y.jsx)("td",{children:t}),Object(y.jsx)("td",{children:r}),Object(y.jsxs)("td",{children:[Object(y.jsx)("a",{className:"TableRow-control__edit",href:"#0",onClick:i,children:"\u270e"}),Object(y.jsx)("a",{className:"TableRow-control__delete",href:"#0",onClick:c,children:"\u2718"})]})]})}function w(){var e=Object(o.c)((function(e){return e.list})),n=Object(o.c)((function(e){return e.search})),t=Object(o.b)();function r(e){return t(b({id:e}))}function c(n){var r=e.findIndex((function(e){return e.id===n})),c=e[r],i=c.name,a=c.price;return t(x({name:i,price:a,editingMode:{state:!0,index:r}}))}var i=null;n.query&&((i=e.map((function(e){var t=e.id,i=e.name,a=e.price;return i.startsWith(n.query)?Object(y.jsx)(q,{id:t,name:i,price:a,onDeleteClick:function(){return r(t)},onEditClick:function(){return c(t)}},t):null}))).filter(Boolean).length||(i=Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:3,children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})));var a=e.map((function(e){var n=e.id,t=e.name,i=e.price;return Object(y.jsx)(q,{id:n,name:t,price:i,onDeleteClick:function(){return r(n)},onEditClick:function(){return c(n)}},n)}));return Object(y.jsxs)("table",{className:"Table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"\u0423\u0441\u043b\u0443\u0433\u0430"}),Object(y.jsx)("th",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c (\u0440\u0443\u0431.)"}),Object(y.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(y.jsx)("tbody",{children:i||a})]})}var M=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(F,{}),Object(y.jsx)(_,{}),Object(y.jsx)(w,{})]})},E={form:g,search:N,list:h},T=Object(d.a)({reducer:E,devtools:!0});a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(o.a,{store:T,children:Object(y.jsx)(M,{})})}),document.getElementById("root"))},7:function(e,n,t){}},[[25,1,2]]]);
//# sourceMappingURL=main.dd1ae6c7.chunk.js.map